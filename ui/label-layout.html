<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>文字排版</title>
    <link type="text/css" rel="stylesheet" href="../assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/hljs-github.min.css"/>
    <link type="text/css" rel="stylesheet" href="../assets/css/style.css"/>
    <link rel="shortcut icon" type="image/ico" href="../assets/favicon.ico">
  </head>
  <body>
  <div class="full-wrap">
    <div class="sidebar markdown-body">
      <div class="inner">
        <div class="logo">
          <a href="../index.html"><img src="../assets/img/logo.png"></a>
        </div>
        <ul class="nav nav-list">
          <li class="sidebar-header-1 "><h3><a href="../getting-started/index.html">Cocos Creator 入门</a></h3></li>
          <li class=" sidebar-header-3"><a href="../getting-started/introduction.html">关于 Cocos Creator</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/install.html">安装和启动</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/dashboard.html">使用 Dashboard</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/hello-world.html">Hello World!</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/quick-start.html">快速上手: 制作第一个游戏</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/cocos2d-x-guide.html">Cocos2d-x 用户上手指南</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/unity-guide.html">Unity 用户上手指南</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/project-structure.html">项目结构</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/support.html">获取帮助和支持</a></li>
          <li class="sidebar-header-1 "><h3><a href="../basics/index.html">编辑器基础</a></h3></li>
          <li class=" sidebar-header-3"><a href="../basics/editor-overview.html">编辑器界面介绍</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/assets.html">资源管理器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/scene.html">场景编辑器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/hierarchy.html">层级管理器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/inspector.html">属性检查器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/console.html">控制台</a></li>
          <li class=" sidebar-header-3"><a href="../basics/toolbar.html">工具栏</a></li>
          <li class=" sidebar-header-3"><a href="../basics/layout.html">编辑器布局</a></li>
          <li class="sidebar-header-1 "><h3><a href="../asset-workflow/index.html">资源工作流程</a></h3></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/scene-managing.html">创建和管理场景</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/sprite.html">图像资源（Texture）</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/atlas.html">图集资源（Atlas）</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/font.html">字体资源</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/particle.html">粒子资源</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/audio-asset.html">声音资源（AudioClip）</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/prefab.html">预制资源（Prefab）</a></li>
          <li class="sidebar-header-1 "><h3><a href="../content-workflow/index.html">内容创作工作流程</a></h3></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/node-component.html">节点和组件</a></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/transform.html">坐标系和变换</a></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/node-tree.html">管理节点层级和显示顺序</a></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/scene-editing.html">使用场景编辑器搭建场景图像</a></li>
          <li class="sidebar-header-1 "><h3><a href="index.html">UI 系统</a></h3></li>
          <li class=" sidebar-header-3"><a href="sliced-sprite.html">使用 Sliced Sprite 制作 UI 图像</a></li>
          <li class=" sidebar-header-3"><a href="multi-resolution.html">多分辨率适配方案</a></li>
          <li class=" sidebar-header-3"><a href="widget-align.html">对齐策略</a></li>
          <li class="active sidebar-header-3"><a href="label-layout.html">文字排版</a></li>
          <li class=" sidebar-header-3"><a href="ui-components.html">常用 UI 控件</a></li>
          <li class=" sidebar-header-3"><a href="auto-layout.html">自动布局容器</a></li>
          <li class=" sidebar-header-3"><a href="list-with-data.html">制作动态生成内容的列表</a></li>
          <li class="sidebar-header-1 "><h3><a href="../animation/index.html">动画系统</a></h3></li>
          <li class=" sidebar-header-3"><a href="../animation/animation.html">关于 Animation</a></li>
          <li class=" sidebar-header-3"><a href="../animation/animation-clip.html">创建 Animation 组件和动画剪辑</a></li>
          <li class=" sidebar-header-3"><a href="../animation/animation-curve.html">编辑动画曲线</a></li>
          <li class=" sidebar-header-3"><a href="../animation/sprite-animation.html">编辑序列帧动画</a></li>
          <li class=" sidebar-header-3"><a href="../animation/time-curve.html">编辑时间曲线</a></li>
          <li class=" sidebar-header-3"><a href="../animation/animation-event.html">添加动画事件</a></li>
          <li class=" sidebar-header-3"><a href="../animation/scripting-animation.html">使用脚本控制动画</a></li>
          <li class="sidebar-header-1 "><h3><a href="../components/index.html">组件参考</a></h3></li>
          <li class=" sidebar-header-3"><a href="../components/sprite.html">Sprite 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/label.html">Label 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/animation.html">Animation 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/canvas.html">Canvas 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/widget.html">Widget 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/progress.html">ProgressBar 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/button.html">Button 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/mask.html">Mask 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/scrollview.html">ScrollView 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/scrollbar.html">ScrollBar 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/layout.html">Layout 组件参考</a></li>
          <li class="sidebar-header-1 "><h3><a href="../scripting/index.html">脚本开发工作流程</a></h3></li>
          <li class=" sidebar-header-3"><a href="../scripting/use-component.html">创建和使用组件脚本</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/properties.html">声明属性</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/access-node-component.html">访问节点和其他组件</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/life-cycle-callbacks.html">生命周期回调</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/create-destroy.html">创建和销毁节点</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/events.html">发射和监听事件</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/internal-events.html">系统内置事件</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/actions.html">使用动作系统</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/action-list.html">动作列表</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/scheduler.html">使用计时器</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/execution-order.html">脚本执行顺序</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/pooling.html">使用对象池</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/load-assets.html">获取资源</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/modular-script.html">模块化脚本</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/web-debug-scripts.html">在浏览器中调试脚本</a></li>
          <li class=" sidebar-header-3"><a href="../scripting/javascript-primer.html">JavaScript 快速入门</a></li>
          <li class=" sidebar-header-4"><a href="../scripting/reference/attributes.html">属性参数参考</a></li>
          <li class="sidebar-header-1 "><h3><a href="../publish/index.html">跨平台发布游戏</a></h3></li>
          <li class=" sidebar-header-3"><a href="../publish/publish-web.html">发布到 Web 平台</a></li>
          <li class=" sidebar-header-3"><a href="../publish/cocos-framework.html">安装配置 Cocos Framework</a></li>
          <li class=" sidebar-header-3"><a href="../publish/publish-native.html">打包发布原生平台</a></li>
        </ul>
      </div>
    </div>
    <div class="main">
      <article class="markdown-body"><h1 id="-">文字排版</h1>
<p><strong>文字组件（Label）</strong> 是核心渲染组件之一，您需要了解如何设置文字的排版，才能在 UI 系统进行多分辨率适配和对齐设置时显示完美的效果。</p>
<h2 id="--1">文字在约束框中对齐</h2>
<p>和其他渲染组件一样，Label 组件的排版也是基于节点尺寸（<code>Size</code>），也就是约束框（Bounding Box）所规定的范围的。</p>
<p class="img-container"><img src="label-layout/label_in_boundingbox.jpg" alt="bounding box"></p>
<p>上图所示就是 Label 渲染的文字在蓝色约束框内显示的效果。Label 中以下的属性决定了文字在约束框中显示的位置：</p>
<ul class="list">
<li><code>Horizontal Align</code>（水平对齐）：文字在约束框中水平方向的对齐准线，可以从 Left、Right、Center 三种位置中选择。</li>
<li><code>Vertical Align</code>（垂直对齐）：文字在约束框中垂直方向的对齐准线，可以从 Top、Bottom、Center 三种位置中选择。</li>
</ul>
<p>上图中水平和垂直方向的对齐位置都设为了<code>Center</code>，可以看到文字出现在约束框的正中心。您可以将以上两个属性修改为其他组合，文字会根据设置出现在约束框的四边或四个角的位置。</p>
<h2 id="--2">文字尺寸和行高</h2>
<p><code>Font Size</code>（文字尺寸）决定了文字的显示大小，单位是 Point （也称作“磅”），是大多数图像制作和文字处理软件中通用的字体大小单位。对于动态字体来说，<code>Font Size</code>可以无损放大，但位图字体在将<code>Font Size</code>设置为超过字体标定的字号大小时，显示会变得越来越模糊。</p>
<p><code>Line Height</code>（行高）决定了文字在多行显示时每行文字占据的空间高度，单位同样是 Point。多行文字显示可以通过两种方式实现：</p>
<ul class="list">
<li>在 <code>String</code> 属性中输入文字时，手动输入回车或换行符</li>
<li>开启 <code>Enable Wrap Text</code>（换行）属性，下文会详细介绍</li>
</ul>
<p>文字尺寸和行高的关系：</p>
<ul class="list">
<li>如果 <code>Font Size</code> 和 <code>Line Height</code> 设为相同数值，文字正好占据一行大部分的空间高度。</li>
<li>如果 <code>Font Size</code> 小于 <code>Line Height</code>，多行文字之间间隔会加大</li>
<li>如果 <code>Font Size</code> 大于 <code>Line Height</code>，多行文字之间间隔会缩小，甚至出现文字相互重叠的情况。</li>
</ul>
<p><img src="label-layout/font_equal_line_height.jpg" alt="font equal">  <img src="label-layout/font_smaller.jpg" alt="font smaller">  <img src="label-layout/font_bigger.jpg" alt="font bigger"></p>
<h2 id="-overflow-">排版模式（Overflow）</h2>
<p><strong>Overflow（排版模式）</strong> 属性，决定了文字内容增加时，如何在约束框的范围内排布。</p>
<h3 id="-clamp-">截断（Clamp）</h3>
<p class="img-container"><img src="label-layout/clamp.jpg" alt="clamp"></p>
<p>截断模式下，文字首先按照对齐模式和尺寸的要求进行渲染，而超出约束框的部分会被隐藏（截断）。</p>
<h3 id="-shrink-">自动缩小（Shrink）</h3>
<p class="img-container"><img src="label-layout/shrink.jpg" alt="shrink"></p>
<p>自动缩小模式下，如果文字按照原定尺寸渲染会超出约束框时，会自动缩小文字尺寸以显示全部文字。</p>
<p>注意，自动缩小模式不会放大文字来适应约束框。</p>
<h3 id="-resize-height-">自动适应高度 （Resize Height）</h3>
<p class="img-container"><img src="label-layout/resize_height.jpg" alt="resize height"></p>
<p>自动适应高度模式会保证文字的约束框贴合文字的高度，不管文字有多少行。这个模式非常适合显示内容量不固定的大段文字，配合 <a href="../components/scrollview.html">ScrollView</a> 组件可以在任意 UI 区域中显示无限量的文字内容。</p>
<h2 id="--3">自动换行</h2>
<p>Label 组件中的 <code>Enable Wrap Text</code>（自动换行）属性，可以切换文字的自动换行开关。在自动换行开启的状态下，不需要在输入文字时手动输入回车或换行符，文字也会根据约束框的宽度自动换行。</p>
<h3 id="--4">截断模式自动换行</h3>
<p>截断模式开启自动换行后，会优先在约束框允许的范围内换行排列文字，如果换行之后仍无法显示全部文字时才发生截断。</p>
<p>以下两幅图都是在 <code>Clamp</code> + <code>Enable Wrap Text</code> 开启情况下的，区别在于文字约束框的宽度不同：</p>
<p><img src="label-layout/clamp_wrap1.jpg" alt="clamp wrap 1">  <img src="label-layout/clamp_wrap2.jpg" alt="clamp wrap 2"></p>
<p>在约束框宽度从左图变化到右图的过程中，文字将不断调整换行，从 2 行逐渐变为 4 行，最后由于约束框高度不足而产生了截断显示。</p>
<h3 id="--5">自动缩小模式自动换行</h3>
<p>和截断模式类似，自动缩小模式下文字超出约束框宽度时也会优先试图换行，在约束框宽度和长度都已经完全排满的情况下才会自动缩小文字以适应约束框。</p>
<p class="img-container"><img src="label-layout/shrink_wrap.jpg" alt="shrink wrap"></p>
<h3 id="--6">自动适应高度</h3>
<p>自动适应高度模式中，自动换行属性是强制开启的。</p>
<h3 id="--7">中文自动换行</h3>
<p>中文自动换行的行为和英文不同，英文是以单词为单位进行换行的，必须有空格才能作为换行调整的最小单位。中文是以字为单位进行换行，每个字都可以单独调整换行。</p>
<h2 id="--8">文字节点的锚点</h2>
<p>文字节点的锚点和文字在约束框中的对齐模式是需要区分的两个概念。在需要靠文字内容将约束框撑大的排版模式中（如 <code>Resize Height</code>），要正确设置锚点位置，才能让约束框向我们期望的方向延伸。</p>
<p>例如，如果希望文字约束框向下延伸，需要将锚点（<code>Anchor</code>）的 <code>y</code> 属性设为 <code>1</code>。</p>
<p class="img-container"><img src="label-layout/anchor.jpg" alt="anchor"></p>
<h2 id="-widget-">文字配合对齐挂件（Widget）</h2>
<p>在 Label 组件所在节点上添加一个 <strong>Widget （对齐挂件）</strong> 组件，就可以让文字节点相对于父节点进行各式各样的排版。</p>
<p class="img-container"><img src="label-layout/widget.jpg" alt="widget"></p>
<p>上图中我们在背景节点上添加了两个 Label 子节点，分别为他们添加 Widget 组件后，设置左边文字 Widget 的 <code>Right</code> 属性为 <code>50%</code>，右边文字 Widget 的 <code>Left</code> 属性为 <code>60%</code>，就可以实现图中所示的多列布局式文字。</p>
<p>而且通过 Widget 上设置边距，加上文字本身的排版模式，可以让我们在不需要具体微调文字约束框大小的情况下轻松实现灵活美观的文字排版。</p>
<h2 id="--9">查看组件参考</h2>
<p>关于 Label 组件的属性，也可以查阅<a href="../components/label.html">Label 组件参考</a>文档。</p>
<hr>
<p>继续前往 <a href="./ui-components.html">常用 UI 控件</a> 说明文档。</p>
      </article>
    </div>
  </div>
  <script src="../assets/js/anchor.min.js"></script>
  <script>
    anchors.add('article h2, article h3, article h4');
  </script>
  </body>
</html>
