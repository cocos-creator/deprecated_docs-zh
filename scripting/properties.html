<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>属性声明</title>
    <link type="text/css" rel="stylesheet" href="../assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/hljs-github.min.css"/>
    <link type="text/css" rel="stylesheet" href="../assets/css/style.css"/>
    <link rel="shortcut icon" type="image/ico" href="../assets/favicon.ico">
  </head>
  <body>
  <div class="full-wrap">
    <div class="sidebar markdown-body">
      <div class="inner">
        <div class="logo">
          <a href="../index.html"><img src="../assets/img/logo.png"></a>
        </div>
        <ul class="nav nav-list">
          <li class="sidebar-header-1 "><h3><a href="../getting-started/index.html">Cocos Creator 入门</a></h3></li>
          <li class=" sidebar-header-3"><a href="../getting-started/introduction.html">关于 Cocos Creator</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/install.html">安装和启动</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/dashboard.html">使用 Dashboard</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/hello-world.html">Hello World!</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/quick-start.html">快速上手: 制作第一个游戏</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/cocos2d-x-guide.html">Cocos2d-x 用户上手指南</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/unity-guide.html">Unity 用户上手指南</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/project-structure.html">项目结构</a></li>
          <li class=" sidebar-header-3"><a href="../getting-started/support.html">获取帮助和支持</a></li>
          <li class="sidebar-header-1 "><h3><a href="../basics/index.html">编辑器基础</a></h3></li>
          <li class=" sidebar-header-3"><a href="../basics/editor-overview.html">编辑器界面介绍</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/assets.html">资源管理器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/scene.html">场景编辑器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/hierarchy.html">层级管理器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/inspector.html">属性检查器</a></li>
          <li class=" sidebar-header-4"><a href="../basics/editor-panels/console.html">控制台</a></li>
          <li class=" sidebar-header-3"><a href="../basics/toolbar.html">工具栏</a></li>
          <li class=" sidebar-header-3"><a href="../basics/layout.html">编辑器布局</a></li>
          <li class="sidebar-header-1 "><h3><a href="../asset-workflow/index.html">资源工作流程</a></h3></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/scene-managing.html">创建和管理场景</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/sprite.html">图像资源（Texture）</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/atlas.html">图集资源（Atlas）</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/font.html">字体资源</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/particle.html">粒子资源</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/audio-asset.html">声音资源（AudioClip）</a></li>
          <li class=" sidebar-header-3"><a href="../asset-workflow/prefab.html">预制资源（Prefab）</a></li>
          <li class="sidebar-header-1 "><h3><a href="../content-workflow/index.html">内容创作工作流程</a></h3></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/node-component.html">节点和组件</a></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/transform.html">坐标系和变换</a></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/node-tree.html">管理节点层级和显示顺序</a></li>
          <li class=" sidebar-header-3"><a href="../content-workflow/scene-editing.html">使用场景编辑器搭建场景图像</a></li>
          <li class="sidebar-header-1 "><h3><a href="../ui/index.html">UI 系统</a></h3></li>
          <li class=" sidebar-header-3"><a href="../ui/sliced-sprite.html">使用 Sliced Sprite 制作 UI 图像</a></li>
          <li class=" sidebar-header-3"><a href="../ui/multi-resolution.html">多分辨率适配方案</a></li>
          <li class=" sidebar-header-3"><a href="../ui/widget-align.html">对齐策略</a></li>
          <li class=" sidebar-header-3"><a href="../ui/label-layout.html">文字排版</a></li>
          <li class=" sidebar-header-3"><a href="../ui/ui-components.html">常用 UI 控件</a></li>
          <li class=" sidebar-header-3"><a href="../ui/auto-layout.html">自动布局容器</a></li>
          <li class=" sidebar-header-3"><a href="../ui/list-with-data.html">制作动态生成内容的列表</a></li>
          <li class="sidebar-header-1 "><h3><a href="../animation/index.html">动画系统</a></h3></li>
          <li class=" sidebar-header-3"><a href="../animation/animation.html">关于 Animation</a></li>
          <li class=" sidebar-header-3"><a href="../animation/animation-clip.html">创建 Animation 组件和动画剪辑</a></li>
          <li class=" sidebar-header-3"><a href="../animation/animation-curve.html">编辑动画曲线</a></li>
          <li class=" sidebar-header-3"><a href="../animation/sprite-animation.html">编辑序列帧动画</a></li>
          <li class=" sidebar-header-3"><a href="../animation/time-curve.html">编辑时间曲线</a></li>
          <li class=" sidebar-header-3"><a href="../animation/animation-event.html">添加动画事件</a></li>
          <li class=" sidebar-header-3"><a href="../animation/scripting-animation.html">使用脚本控制动画</a></li>
          <li class="sidebar-header-1 "><h3><a href="../components/index.html">组件参考</a></h3></li>
          <li class=" sidebar-header-3"><a href="../components/sprite.html">Sprite 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/label.html">Label 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/animation.html">Animation 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/canvas.html">Canvas 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/widget.html">Widget 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/progress.html">ProgressBar 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/button.html">Button 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/mask.html">Mask 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/scrollview.html">ScrollView 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/scrollbar.html">ScrollBar 组件参考</a></li>
          <li class=" sidebar-header-3"><a href="../components/layout.html">Layout 组件参考</a></li>
          <li class="sidebar-header-1 "><h3><a href="index.html">脚本开发工作流程</a></h3></li>
          <li class=" sidebar-header-3"><a href="use-component.html">创建和使用组件脚本</a></li>
          <li class="active sidebar-header-3"><a href="properties.html">声明属性</a></li>
          <li class=" sidebar-header-3"><a href="access-node-component.html">访问节点和其他组件</a></li>
          <li class=" sidebar-header-3"><a href="life-cycle-callbacks.html">生命周期回调</a></li>
          <li class=" sidebar-header-3"><a href="create-destroy.html">创建和销毁节点</a></li>
          <li class=" sidebar-header-3"><a href="events.html">发射和监听事件</a></li>
          <li class=" sidebar-header-3"><a href="internal-events.html">系统内置事件</a></li>
          <li class=" sidebar-header-3"><a href="actions.html">使用动作系统</a></li>
          <li class=" sidebar-header-3"><a href="action-list.html">动作列表</a></li>
          <li class=" sidebar-header-3"><a href="scheduler.html">使用计时器</a></li>
          <li class=" sidebar-header-3"><a href="execution-order.html">脚本执行顺序</a></li>
          <li class=" sidebar-header-3"><a href="pooling.html">使用对象池</a></li>
          <li class=" sidebar-header-3"><a href="load-assets.html">获取资源</a></li>
          <li class=" sidebar-header-3"><a href="modular-script.html">模块化脚本</a></li>
          <li class=" sidebar-header-3"><a href="web-debug-scripts.html">在浏览器中调试脚本</a></li>
          <li class=" sidebar-header-3"><a href="javascript-primer.html">JavaScript 快速入门</a></li>
          <li class=" sidebar-header-4"><a href="reference/attributes.html">属性参数参考</a></li>
          <li class="sidebar-header-1 "><h3><a href="../publish/index.html">跨平台发布游戏</a></h3></li>
          <li class=" sidebar-header-3"><a href="../publish/publish-web.html">发布到 Web 平台</a></li>
          <li class=" sidebar-header-3"><a href="../publish/cocos-framework.html">安装配置 Cocos Framework</a></li>
          <li class=" sidebar-header-3"><a href="../publish/publish-native.html">打包发布原生平台</a></li>
        </ul>
      </div>
    </div>
    <div class="main">
      <article class="markdown-body"><h1 id="-">属性声明</h1>
<p>通过在组件脚本中声明属性，我们可以将脚本组件中的字段可视化地展示在 <strong>属性检查器</strong> 中，从而方便
地在场景中调整属性值。</p>
<p>要声明属性，仅需要在 cc.Class 定义的 <code>properties</code> 字段中，填写属性名字和属性参数即可，如：</p>
<pre class="hljs"><code>  cc.Class({
    extends: cc.Component,
    properties: {
      userID: <span class="hljs-number">20</span>,
      userName: <span class="hljs-string">'Foobar'</span>
    }
  });</code></pre><p>这时候，你可以在 <strong>属性检查器</strong> 中看到，你刚刚定义的两个属性，显示在检查器的面板中：</p>
<p class="img-container"><img src="assets/properties-in-inspector.png" alt="properties-in-inspector"></p>
<h2 id="--1">声明方法</h2>
<p>在 Cocos Creator 中，我们提供两种形式的属性声明方法：</p>
<h3 id="--2">简单声明</h3>
<p>在多数情况下，我们都可以使用简单声明。当声明属性的类型为 Javascript 内建类型 <code>boolean</code>，
<code>string</code> 和 <code>number</code> 时，可以直接书写成：</p>
<pre class="hljs"><code>  properties: {
    foo: <span class="hljs-number">20</span>,
    bar: <span class="hljs-string">'Hello World!'</span>,
    foobar: <span class="hljs-literal">false</span>,
  }</code></pre><p>当声明属性的类型继承自 <code>cc.ValueType</code> 时（如： <code>cc.Vec2</code>，<code>cc.Color</code>，<code>cc.Size</code> 等），
可以赋值他们的实例，如：</p>
<pre class="hljs"><code>  properties: {
    foo: <span class="hljs-keyword">new</span> cc.Vec2(<span class="hljs-number">10</span>,<span class="hljs-number">20</span>),
    bar: <span class="hljs-keyword">new</span> cc.Color(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">128</span>),
  }</code></pre><p>当声明属性的类型继承自 <code>cc.Class</code> 时（如：<code>cc.Node</code>，<code>cc.Component</code> 等），可以在声明处
填写他们的 constructor 来完成声明，如：</p>
<pre class="hljs"><code>  properties: {
    foo: cc.Node,
    bar: cc.Sprite,
  }</code></pre><p><strong>注意:</strong> 除了以上几种情况，其他类型（如：数组）我们都需要使用完整声明的方式来进行书写。</p>
<h3 id="--3">完整声明</h3>
<p>有些情况下，我们需要为属性声明添加参数，这些参数控制了属性在 <strong>属性检查器</strong> 中的显示方式，以及
属性在场景序列化过程中的行为。例如：</p>
<pre class="hljs"><code>  properties: {
    score: {
      <span class="hljs-keyword">default</span>: <span class="hljs-number">0</span>,
      displayName: <span class="hljs-string">'Score (player)'</span>,
      tooltip: <span class="hljs-string">'The score of player'</span>,
    }
  }</code></pre><p>以上代码规定了 score 在 <strong>属性检查器</strong> 里，其属性名将显示为：“Score (player)”，
并且当鼠标移到参数上时，显示对应的 Tooltip。</p>
<p>下面是常用参数，详细用法请参阅<a href="/manual/scripting/attributes">属性参数</a>。</p>
<ul class="list">
<li>default: 设置属性的默认值</li>
<li>type: 限定属性的数据类型</li>
<li>visible: 设为 false 则不在 Inspector 面板中显示该属性</li>
<li>serializable: 设为 false 则不序列化该属性</li>
<li>displayName: 在 Inspector 面板中显示成指定名字</li>
<li>tooltip: 在 Inspector 面板中添加属性的 Tooltip</li>
</ul>
<h2 id="--4">特殊类型的声明方法</h2>
<h3 id="--5">数组声明</h3>
<p>数组的 default 必须设置为 <code>[]</code>，如果要在 <strong>属性检查器</strong> 中编辑，还需要设置 type 为构造函数，枚举，
或者 <code>&#39;Integer&#39;</code>，<code>&#39;Float&#39;</code>，<code>&#39;Boolean&#39;</code> 和 <code>&#39;String&#39;</code>。</p>
<pre class="hljs"><code>  properties: {
    names: {
      <span class="hljs-keyword">default</span>: [],
      type: [<span class="hljs-string">'String'</span>]
    },

    enemies: {
      <span class="hljs-keyword">default</span>: [],
      type: [cc.Node]
    },
  }</code></pre><h3 id="get-set-">get/set 声明</h3>
<p>在属性中设置了 get 或 set 以后，访问属性的时候，就能触发预定义的 get 或 set 方法。定义方法如下：</p>
<pre class="hljs"><code>properties: {
  width: {
    get: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._width;
    },
    set: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
      <span class="hljs-keyword">this</span>._width = value;
    }
  }
}</code></pre><p><strong>注意:</strong> 你可以只定义 get 方法，这样相当于一份 readonly 的属性。</p>
<p>更多的属性参数，请阅读<a href="reference/attributes.html">属性参数</a></p>
<hr>
<p>继续前往 <a href="./access-node-component.html">访问节点和其他组件</a>。</p>
      </article>
    </div>
  </div>
  <script src="../assets/js/anchor.min.js"></script>
  <script>
    anchors.add('article h2, article h3, article h4');
  </script>
  </body>
</html>
